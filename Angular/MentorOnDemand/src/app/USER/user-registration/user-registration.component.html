<header>
    <nav class="navbar navbar-expand-sm navbar-dark" style="background-color: darkslategrey;">
        <ul class="navbar-nav">
            <li class="nav-item active">
                <a class="nav-link" routerLink="">
                    <h5>Mentor on Demand</h5>
                </a>
            </li>
        </ul>
    </nav>
</header>
<div class="container">
    <form class="form-horizontal" role="form" (ngSubmit)="f.form.valid && flag==1 && onSubmit()" #f="ngForm" novalidate>
        <h2>Registration</h2>
        <div class="form-group">
            <label for="firstName" class="col-sm-3 control-label">First Name *</label>
            <div class="col-sm-9">
                <input type="text" class="form-control" id="firstName" name="firstName" [(ngModel)]="newUser.firstName"
                    [ngClass]="{ 'is-invalid': f.submitted && firstName.invalid }" pattern="^[a-zA-Z]+$"
                    placeholder="First Name" #firstName="ngModel" autofocus required maxlength="50" minlength="2" />
                <div *ngIf="f.submitted && firstName.invalid" class="alert alert-danger">
                    <div *ngIf="firstName.errors.required">
                        First Name is required
                    </div>
                    <div *ngIf="firstName.errors.maxlength || firstName.errors.minlength">
                        First Name should be between 2 and 50 charecters
                    </div>
                    <div *ngIf="firstName.errors.pattern">
                        First Name should contain only letters
                    </div>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label for="lastName" class="col-sm-3 control-label">Last Name *</label>
            <div class="col-sm-9">
                <input type="text" id="lastName" name="lastName" placeholder="Last Name" [(ngModel)]="newUser.lastName"
                    [ngClass]="{ 'is-invalid': f.submitted && lastName.invalid }" #lastName="ngModel" required
                    maxlength="50" minlength="2" pattern="^[a-zA-Z]+$" class="form-control" autofocus>
                <div *ngIf="f.submitted && lastName.invalid" class="alert alert-danger">
                    <div *ngIf="lastName.errors.required">
                        Last Name is required
                    </div>
                    <div *ngIf="lastName.errors.minlength || lastName.errors.minlength">
                        Last Name should be between 2 and 50 charecters
                    </div>
                    <div *ngIf="lastName.errors.pattern">
                        Last Name should contain only letters
                    </div>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label for="userEmail" class="col-sm-3 control-label">Email *</label>
            <div class="col-sm-9">
                <input type="email" class="form-control" id="userEmail"
                    [ngClass]="{ 'is-invalid': f.submitted && userEmail.invalid }"
                    pattern="^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9_.+-]+\.[a-z]+$" name="userEmail" placeholder="Email"
                    [(ngModel)]="newUser.username" #userEmail="ngModel" (change)="checkIdEmailAlreadyUsed()" required
                    email />
                <div *ngIf="f.submitted && (userEmail.invalid || flag==0)">
                    <div *ngIf="userEmail.errors.required" class="alert alert-danger">
                        Email is a required field
                    </div>
                    <div *ngIf="userEmail.errors.pattern" class="alert alert-danger">
                        Enter a valid email
                    </div>
                    <div *ngIf="flag==0" class="alert alert-danger">
                        A User already exists for this email.
                    </div>
                </div>


            </div>
        </div>
        <div class="form-group">
            <label for="password" class="col-sm-3 control-label">Password *</label>
            <div class="col-sm-9">
                <input type="password" id="password" class="form-control" placeholder="Password" name="password"
                    [ngClass]="{ 'is-invalid': f.submitted && password.invalid }" [(ngModel)]="newUser.userPassword"
                    #password="ngModel" minlength="6" required />
                <div class="alert alert-danger" *ngIf="f.submitted && password.invalid">
                    <p *ngIf="password.errors.required">Password is a required field</p>
                    <p *ngIf="password.errors.minlength">Password should contain at least 6 charecters</p>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label for="contactNo" class="col-sm-3 control-label">Phone number * </label>
            <div class="col-sm-9">
                <input type="text" minlength="10" maxlength="10" class="form-control" pattern="^[0-9]{10}$"
                    [ngClass]="{ 'is-invalid': f.submitted && contactNo.invalid }" id="contactNo" name="contactNo"
                    [(ngModel)]="newUser.contactNumber" #contactNo="ngModel" placeholder="Phone Number" required />
                <div class="alert alert-danger" *ngIf="f.submitted && contactNo.invalid">
                    <p *ngIf="contactNo.errors.required">Contact Number is a required field</p>
                    <p *ngIf="contactNo.errors.minlength || contactNo.errors.maxlength">Contact Number can contain only
                        10 digits</p>
                    <p *ngIf="contactNo.errors.pattern">Please enter a valid contact number</p>
                </div>
            </div>
        </div>

        <div class="form-group">
            <div class="col-sm-9 col-sm-offset-3">
                <span class="help-block">*Required fields</span>
            </div>
        </div>

        <p class="alert alert-danger" *ngIf="flag==0">A registered user already exists for this email address</p>
        <button type="submit" class="btn btn-block" 
            style="background-color: darkslategrey; color:white;">Register</button>


    </form>
</div>